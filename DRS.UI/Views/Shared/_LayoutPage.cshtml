<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>Sistema de devoluciones - @ViewBag.Title</title>

    <link rel="shortcut icon" href="/images/teambox-logo-mini.ico">

    <link href="~/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="~/css/bootstrap-popover-x.css" media="all" rel="stylesheet" type="text/css" />
    <link href="~/assets/css/icons.css" rel="stylesheet" type="text/css">
    <link href="~/css/site-principal.css" rel="stylesheet" type="text/css">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.1/css/bootstrap.min.css" type="text/css" />
    <link href="https://cdn.datatables.net/1.10.25/css/dataTables.bootstrap4.min.css" type="text/css" />

    <script src="~/assets/js/jquery.min.js"></script>
    <script src="~/js/bootstrap-popover-x.js" type="text/javascript"></script>
    <script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.25/js/dataTables.bootstrap4.min.js"></script>

    <!-- Include the plugin's CSS and JS: -->
    <link href="/css/select2.min.css" rel="stylesheet" />
    <script src="/js/select2.min.js"></script>

    @*Carga de menu principal de la aplicación*@


    <style>

        #myModalSm, #myModalMd, #myModalLg, #myModalXl {
            overflow: hidden !important;
            overflow-y: scroll !important;
            padding-right: 0 !important;
        }

        .select2-container--material {
            width: 100% !important;
        }

            .select2-container--material .select2-selection--single {
                background-color: white;
                border: none;
                border: 1px solid #ced4da;
                border-radius: .25rem;
                box-shadow: none;
                box-sizing: content-box;
                height: auto;
                margin: 0;
                outline: none;
                line-height: 1.5;
                padding: 8px 0 5px 0;
                font-family: "Rubik", sans-serif;
                transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
            }

                .select2-container--material .select2-selection--single .select2-selection__rendered {
                    color: #444;
                    line-height: 28px;
                    padding-left: 10px;
                    display: block; padding: 0 4px;line-height: 29px
                }

                .select2-container--material .select2-selection--single .select2-selection__clear {
                    cursor: pointer;
                    float: right;
                    font-weight: bold;
                }

                .select2-container--material .select2-selection--single .select2-selection__placeholder {
                    color: #999;
                }

                .select2-container--material .select2-selection--single .select2-selection__arrow {
                    height: 26px;
                    margin: 0.6rem 0 0.4rem 0;
                    position: absolute;
                    top: 1px;
                    right: 1px;
                    width: 20px;
                }

                    .select2-container--material .select2-selection--single .select2-selection__arrow b {
                        border-color: #888 transparent transparent transparent;
                        border-style: solid;
                        border-width: 5px 4px 0 4px;
                        height: 0;
                        left: 50%;
                        margin-left: -4px;
                        margin-top: -2px;
                        position: absolute;
                        top: 50%;
                        width: 0;
                    }

            .select2-container--material[dir="rtl"] .select2-selection--single .select2-selection__clear {
                float: left;
            }

            .select2-container--material[dir="rtl"] .select2-selection--single .select2-selection__arrow {
                left: 1px;
                right: auto;
            }

            .select2-container--material.select2-container--disabled .select2-selection--single {
                background-color: #eee;
                cursor: default;
            }

                .select2-container--material.select2-container--disabled .select2-selection--single .select2-selection__clear {
                    display: none;
                }

            .select2-container--material.select2-container--open .select2-selection--single .select2-selection__arrow b {
                border-color: transparent transparent #888 transparent;
                border-width: 0 4px 5px 4px;
            }


        .select2-container--material .select2-selection--multiple {
            background-color: white;
            border: none;
            border: 1px solid #ced4da;
            border-radius: .25rem;
            box-shadow: none;
            box-sizing: content-box;
            font-family: "Rubik", sans-serif;
            height: auto;
            min-height: 34px;
            display: flex;
            margin: 0;
            outline: none;
            line-height: 1.5;
            padding: 5px 0 0 0;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }

            /*.select2-container--material .select2-selection--multiple {
                background-color: white;
                border: none;
                border: 1px solid #ced4da;
                border-radius: .25rem;
                box-shadow: none;
                box-sizing: content-box;
                font-family: "Rubik", sans-serif;
                height: auto;
                margin: 0;
                outline: none;
                line-height: 1.5;
                padding: 8px 0 5px 0;
                transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
            }
*/
                .select2-container--material .select2-selection--multiple .select2-selection__rendered {
                    box-sizing: border-box;
                    list-style: none;
                    margin: 0;
                    padding: 0 5px;
                }

                    .select2-container--material .select2-selection--multiple .select2-selection__rendered li {
                        list-style: none;
                    }

                .select2-container--material .select2-selection--multiple .select2-selection__placeholder {
                    color: #999;
                    margin-top: 5px;
                    float: left;
                }

                .select2-container--material .select2-selection--multiple .select2-selection__clear {
                    cursor: pointer;
                    float: right;
                    font-weight: bold;
                    margin-top: 5px;
                    margin-right: 10px;
                }

                .select2-container--material .select2-selection--multiple .select2-selection__choice {
                    background-color: transparent;
                    border-radius: 0px;
                    color: rgba(0, 0, 0, 0.6);
                    cursor: default;
                    float: left;
                    margin-right: 5px;
                    margin-top: 2px;
                    padding: 0 12px;
                    margin-left: 5px;
                }

                .select2-container--material .select2-selection--multiple .select2-selection__choice__remove {
                    cursor: pointer;
                    display: inline-block;
                    font-weight: bold;
                    float: right;
                    margin-left: 5px;
                }

        .select2-selection__choice__remove {
            background-color: #F26835;
            border: 1px solid #F26835;
            border-radius: 3px;
            color: white;
            margin-left: 2px;
            margin-right: auto;
        }

                    .select2-container--material .select2-selection--multiple .select2-selection__choice__remove:hover {
                        color: #333;
                    }

            .select2-container--material[dir="rtl"] .select2-selection--multiple .select2-selection__choice, .select2-container--material[dir="rtl"] .select2-selection--multiple .select2-selection__placeholder, .select2-container--material[dir="rtl"] .select2-selection--multiple .select2-search--inline {
                float: right;
            }

            .select2-container--material[dir="rtl"] .select2-selection--multiple .select2-selection__choice {
                margin-left: 5px;
                margin-right: auto;
            }

            .select2-container--material[dir="rtl"] .select2-selection--multiple {
                margin-left: 2px;
                margin-right: auto;
            }

            .select2-container--material.select2-container--disabled .select2-selection--multiple {
                background-color: #eee;
                cursor: default;
            }

            .select2-container--material.select2-container--disabled .select2-selection__choice__remove {
                display: none;
            }

            .select2-container--material.select2-container--open.select2-container--above .select2-selection--single, .select2-container--material.select2-container--open.select2-container--above .select2-selection--multiple {
                border-top-left-radius: 0;
                border-top-right-radius: 0;
            }

            .select2-container--material.select2-container--open.select2-container--below .select2-selection--single, .select2-container--material.select2-container--open.select2-container--below .select2-selection--multiple {
                border-bottom-left-radius: 0;
                border-bottom-right-radius: 0;
            }

            .select2-container--material.select2-container--focus .select2-selection--single {
                transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
                outline: 0;
            }

            .select2-container--material.select2-container--focus .select2-selection--multiple {
                transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
                outline: 0;
            }

            .select2-container--material .select2-search--dropdown .select2-search__field {
                border: none;
                border-bottom: 1px solid #ced4da;
                border-radius: 0;
                outline: none;
            }

                .select2-container--material .select2-search--dropdown .select2-search__field:focus:not([readonly]) {
                    box-shadow: 0 1px 0 0 #ced4da;
                    border-bottom: 1px solid #ced4da;
                }

        .select2-search {
            width: 100%;
        }
        .select2-container--material .select2-search--inline .select2-search__field {
            background: transparent;
            border: none !important;
            outline: 0;
            box-shadow: none !important;
            -webkit-appearance: textfield;
        }

            .select2-container--material .select2-results > .select2-results__options {
                max-height: 200px;
                overflow-y: auto;
            }

            .select2-container--material .select2-results__option[role=group] {
                padding: 0;
            }

            .select2-container--material .select2-results__option[aria-disabled=true] {
                color: #999;
            }

            .select2-container--material .select2-results__option[aria-selected=true] {
                background-color: #ddd;
            }

            .select2-container--material .select2-results__option .select2-results__option {
                padding-left: 1em;
            }

                .select2-container--material .select2-results__option .select2-results__option .select2-results__group {
                    padding-left: 0;
                }

                .select2-container--material .select2-results__option .select2-results__option .select2-results__option {
                    margin-left: -1em;
                    padding-left: 2em;
                }

                    .select2-container--material .select2-results__option .select2-results__option .select2-results__option .select2-results__option {
                        margin-left: -2em;
                        padding-left: 3em;
                    }

                        .select2-container--material .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option {
                            margin-left: -3em;
                            padding-left: 4em;
                        }

                            .select2-container--material .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option {
                                margin-left: -4em;
                                padding-left: 5em;
                            }

                                .select2-container--material .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option {
                                    margin-left: -5em;
                                    padding-left: 6em;
                                }

            .select2-container--material .select2-results__option--highlighted[aria-selected] {
                background-color: #3f729b;
                color: white;
            }

            .select2-container--material .select2-results__group {
                cursor: default;
                display: block;
                padding: 6px;
            }

        .select2-dropdown {
            background-color: white;
            border: 1px solid #ced4da;
            border-radius: 4px;
            box-sizing: border-box;
            box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);
            display: block;
            position: absolute;
            left: -100000px;
            width: 100%;
            z-index: 1051;
            -webkit-box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);
        }

        .select2-results {
            display: block;
        }

        .select2-results__options {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .select2-results__option {
            padding: 6px;
            user-select: none;
            -webkit-user-select: none;
        }

            .select2-results__option[aria-selected] {
                cursor: pointer;
            }

        .select2-container--open .select2-dropdown {
            left: 0;
        }

        .select2-container--open .select2-dropdown--above {
            border-bottom: none;
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
        }

        .select2-container--open .select2-dropdown--below {
            border-top: none;
            border-top-left-radius: 0;
            border-top-right-radius: 0;
        }

        .select2-search--dropdown {
            display: block;
            padding: 4px;
        }

        .select2-search__field {
            font-family: "Rubik", sans-serif;
            font-size: 16px;
        }

        .select2-search--dropdown .select2-search__field {
            padding: 4px;
            width: 100%;
            box-sizing: border-box;
        }

                .select2-search--dropdown .select2-search__field::-webkit-search-cancel-button {
                    -webkit-appearance: none;
                }

            .select2-search--dropdown.select2-search--hide {
                display: none;
            }

    </style>

</head>
<body>

    

    <!-- Navigation Bar-->
    <header id="topnav">
        <div class="topbar-main">
            <div class="container-fluid">

                <!-- Logo container-->
                <div class="logo">
                    <!-- Image Logo -->
                    <a href="@Url.Action("Index", "Home")" class="logo">
                        <img src="~/images/teambox-logo-mini.png" alt="" height="30" class="logo-small">
                        <img src="~/images/teambox-logo.png" alt="" height="40" class="logo-large">
                    </a>

                </div>
                <!-- End Logo container-->


                <div class="menu-extras topbar-custom">

                    <ul class="list-inline float-right mb-0">
                        <!-- User-->
                        <li class="list-inline-item dropdown notification-list">
                            <a class="nav-link dropdown-toggle arrow-none waves-effect nav-user" data-toggle="dropdown" href="#" role="button"
                               aria-haspopup="false" aria-expanded="false">
                                <img src="~/images/user.png" alt="user" class="rounded-circle">
                            </a>
                            <div class="dropdown-menu dropdown-menu-right profile-dropdown " style="position: absolute; transform: translate3d(-120px, 60px, 0px); top: 0px; left: 0px; will-change: transform; width: auto;">
                                <!-- item-->
                                <div class="dropdown-item noti-title">
                                    <h5>Bienvenido(a), @ViewBag.Usuario</h5>
                                </div>
                                <a class="dropdown-item" href="@Url.Action("Index", "Profile")"><i class="mdi mdi-account-circle m-r-5 text-muted"></i> Mi cuenta</a>
                               
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="@Url.Action("Logout", "Home")"><i class="mdi mdi-logout m-r-5 text-muted"></i> Cerrar sesión</a>
                            </div>
                        </li>
                        <li class="menu-item list-inline-item">
                            <!-- Mobile menu toggle-->
                            <a class="navbar-toggle nav-link">
                                <div class="lines">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </div>
                            </a>
                            <!-- End mobile menu toggle-->
                        </li>

                    </ul>
                </div>
                <!-- end menu-extras -->

                <div class="clearfix"></div>

            </div> <!-- end container -->
        </div>
        <!-- end topbar-main -->
        <!-- MENU Start -->
        <div class="navbar-custom">
            <div class="container-fluid">
                <div id="navigation">
                    
                    <ul class="navigation-menu">

                        @foreach (var item in ((List<DRS.Entities.Menu>)ViewBag.Menus).Where(a => a.Menuparentid == 0).ToList())
                        {

                        <li class="has-submenu">

                            @if (string.IsNullOrEmpty(item.Menucontroller))
                            {
                                if (((List<DRS.Entities.Menu>)ViewBag.Menus).Where(a => a.Menuparentid == item.Menuid).ToList().Count() > 0)
                                {
                                    <a><i class="@item.Menuicon"></i>@item.Menuname</a>
                                    <ul class="submenu">
                                        @foreach (var itemSub in ((List<DRS.Entities.Menu>)ViewBag.Menus).Where(a => a.Menuparentid == item.Menuid).ToList())
                                        {
                                            <li><a href="@Url.Action(itemSub.Menuaction, itemSub.Menucontroller)">@itemSub.Menuname</a></li>
                                        }
                                    </ul>
                                }
                                else
                                {
                                    <a><i class="@item.Menuicon"></i>@item.Menuname</a>
                                }
                            }
                            else
                            {
                                if (((List<DRS.Entities.Menu>)ViewBag.Menus).Where(a => a.Menuparentid == item.Menuid).ToList().Count() > 0)
                                {
                                    <a><i class="@item.Menuicon"></i>@item.Menuname</a>

                                    <ul class="submenu">
                                        @foreach (var itemSub in ((List<DRS.Entities.Menu>)ViewBag.Menus).Where(a => a.Menuparentid == item.Menuid).ToList())
                                        {
                                            <li><a href="@Url.Action(itemSub.Menuaction, itemSub.Menucontroller)">@itemSub.Menuname</a></li>
                                        }
                                    </ul>
                                }
                                else
                                {
                                    <a href="@Url.Action(item.Menuaction, item.Menucontroller)"><i class="@item.Menuicon"></i>@item.Menuname</a>
                                }
                            }

                        </li>
                        }

                       
                    </ul>

                    
                </div> <!-- end #navigation -->
            </div> <!-- end container -->
        </div> <!-- end navbar-custom -->
    </header>
    <!-- End Navigation Bar-->

    <div class="wrapper">
        <div class="container-fluid">
            @RenderBody()
        </div> <!-- end container -->
    </div>

    <div style="margin-top: 50px;">
        <footer class="footer">
            <div class="row">
                <div class="copyrights-block container-fluid">
                    <div class="row align-items-center">
                        <div class="col-12 text-center">
                            <i class="fa fa-1x fa-copyright"></i>&nbsp;&nbsp;Todos los derechos reservados. Servicios Troncalizados S.A. de C.V. @DateTime.UtcNow.Year.ToString()
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- jQuery  -->

    <script src="~/assets/js/popper.min.js"></script>
    <script src="~/assets/js/bootstrap.min.js"></script>
    <script src="~/assets/js/modernizr.min.js"></script>
    <script src="~/assets/js/waves.js"></script>
    <script src="~/assets/js/jquery.slimscroll.js"></script>
    <script src="~/assets/js/jquery.nicescroll.js"></script>
    <script src="~/assets/js/jquery.scrollTo.min.js"></script>

   
    <!-- App js -->
    <script src="~/js/app.js"></script>

    <script>
        $(document).ready(function () {

            function sessionChecking() {
                $.ajax({
                    type: "POST",
                    url: "@Url.Action("SessionStatus", "Home")",
                    data: '',
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (response) {
                        if (response.StsUsr == false) {
                            window.location = '@Url.Action("EndSession", "Home")';
                        }
                    },
                    failure: function (response) {
                       window.location = '@Url.Action("Index", "Home")';
                    },
                    error: function (response) {
                        window.location = '@Url.Action("Index", "Home")';
                    }
                });
            }

            setInterval(sessionChecking, 10000);
        });
    </script>
    
</body>
</html>
